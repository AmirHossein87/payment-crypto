
import { Directive, Input, ElementRef, OnChanges, SimpleChanges, inject } from '@angular/core';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';

export type PaymentState = 'Paid' | 'Failed' | 'InProgress' | 'Other';

@Directive({
  selector: '[appPaymentStatusIcon]',
  standalone: true
})
export class PaymentStatusIconDirective implements OnChanges {
  private readonly elementRef = inject(ElementRef);
  private readonly sanitizer = inject(DomSanitizer);

  @Input('appPaymentStatusIcon') paymentState: PaymentState = 'InProgress';
  @Input() size: number = 70;

  private readonly icons = {
    Paid: this.getSuccessIcon(),
    Failed: this.getFailedIcon(),
    InProgress: this.getInProgressIcon(),
    Other: this.getInProgressIcon()
  };

  private readonly animations = {
    Paid: this.getSuccessAnimation(),
    Failed: this.getFailedAnimation(),
    InProgress: this.getInProgressAnimation(),
    Other: this.getInProgressAnimation()
  };

  ngOnChanges(changes: SimpleChanges): void {
    if (changes['paymentState'] || changes['size']) {
      this.renderIcon();
    }
  }

  private renderIcon(): void {
    const iconSvg = this.icons[this.paymentState];
    const animationStyles = this.animations[this.paymentState];

    const svgWithStyles = `
      <div class="payment-status-icon ${this.paymentState.toLowerCase()}">
        <style>${animationStyles}</style>
        ${iconSvg}
      </div>
    `;

    const safeHtml: SafeHtml = this.sanitizer.bypassSecurityTrustHtml(svgWithStyles);
    this.elementRef.nativeElement.innerHTML = safeHtml;
  }

  private getFailedIcon(): string {
    return `
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="${this.size}"
        height="${this.size}"
        viewBox="0 0 101 100"
        fill="none"
        class="failed-icon"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M50 2.00255C50.1665 2.00085 50.3331 2 50.5 2C77.0097 2 98.5 23.4903 98.5 50C98.5 76.5097 77.0097 98 50.5 98C35.5607 98 22.2155 91.1752 13.4121 80.4732L11.9054 81.7899C21.076 92.9107 34.9601 100 50.5 100C78.1142 100 100.5 77.6142 100.5 50C100.5 22.3858 78.1142 0 50.5 0C50.3331 0 50.1665 0.000817343 50 0.00244824V2.00255Z"
          fill="#00AF86"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.3864 81.6836L12.8612 82.9148C12.6416 82.6639 12.4244 82.4108 12.2098 82.1555C11.9953 81.9004 11.7834 81.6431 11.5739 81.3836C11.4621 81.2451 11.351 81.1059 11.2406 80.9661C11.034 80.7046 10.83 80.441 10.6286 80.1752C10.4272 79.9095 10.2284 79.6418 10.0322 79.372L11.5704 78.157L12.8101 79.7265C12.9161 79.8607 13.0228 79.9943 13.1301 80.1274L14.3864 81.6836ZM8.23313 72.8571L6.47258 73.7182C6.31425 73.4249 6.15877 73.1299 6.00617 72.8331C5.85383 72.5368 5.70436 72.2389 5.5578 71.9392C5.47957 71.7793 5.40217 71.6188 5.32561 71.4579C5.18248 71.1571 5.04226 70.8547 4.905 70.5506C4.7679 70.2469 4.63374 69.9416 4.50256 69.6347L6.2722 68.7926L7.13157 70.5986C7.20506 70.753 7.27935 70.907 7.35443 71.0605L8.23313 72.8571ZM4.20514 62.8854L2.29657 63.3302C2.20798 63.0091 2.12251 62.6867 2.04019 62.3631C1.95813 62.0405 1.87921 61.7166 1.80346 61.3915C1.76305 61.2181 1.72354 61.0443 1.68494 60.8702C1.6129 60.5452 1.54402 60.2191 1.47833 59.8917C1.41281 59.5653 1.35048 59.2376 1.29135 58.9089L3.20466 58.4847L3.63754 60.4373C3.67458 60.6044 3.7125 60.7712 3.75128 60.9376L4.20514 62.8854ZM2.5112 52.258L0.550536 52.2683C0.535693 51.9359 0.524096 51.6026 0.515777 51.2685C0.507497 50.936 0.502463 50.6026 0.500706 50.2685C0.500236 50.1791 0.5 50.0896 0.5 50C0.5 49.9104 0.500236 49.8209 0.500706 49.7315C0.502463 49.3974 0.507497 49.064 0.515777 48.7315C0.524096 48.3974 0.535693 48.0641 0.550536 47.7317L2.5112 47.742L2.50068 49.742C2.50023 49.8279 2.5 49.9139 2.5 50C2.5 50.0861 2.50023 50.1721 2.50068 50.258L2.5112 52.258ZM3.20466 41.5153L1.29136 41.0911C1.35048 40.7624 1.41281 40.4347 1.47833 40.1083C1.54402 39.7809 1.6129 39.4548 1.68495 39.1298C1.72354 38.9557 1.76305 38.7819 1.80346 38.6085C1.87921 38.2834 1.95813 37.9595 2.0402 37.6369C2.12251 37.3133 2.20798 36.9909 2.29657 36.6698L4.20514 37.1145L3.75128 39.0624C3.7125 39.2288 3.67458 39.3956 3.63754 39.5627L3.20466 41.5153ZM6.27221 31.2074L4.50257 30.3653C4.63374 30.0584 4.7679 29.7531 4.905 29.4494C5.04227 29.1453 5.18248 28.8429 5.32561 28.5421C5.40218 28.3812 5.47958 28.2207 5.55781 28.0608C5.70437 27.7611 5.85383 27.4631 6.00617 27.1669C6.15877 26.8701 6.31425 26.5751 6.47258 26.2818L8.23314 27.1429L7.35444 28.9395C7.27935 29.093 7.20506 29.247 7.13157 29.4014L6.27221 31.2074ZM11.5704 21.843L10.0322 20.628C10.2284 20.3582 10.4272 20.0905 10.6286 19.8248C10.83 19.559 11.034 19.2954 11.2406 19.0338C11.351 18.8941 11.4621 18.7549 11.5739 18.6164C11.7834 18.3569 11.9953 18.0996 12.2098 17.8445C12.4244 17.5892 12.6416 17.3361 12.8612 17.0851L14.3864 18.3164L13.1302 19.8726C13.0228 20.0057 12.9161 20.1393 12.8101 20.2735L11.5704 21.843ZM18.8164 13.8864L17.5852 12.3612C17.8361 12.1416 18.0892 11.9244 18.3445 11.7098C18.5996 11.4953 18.8569 11.2834 19.1164 11.0739C19.2549 10.9621 19.3941 10.851 19.5339 10.7406C19.7954 10.534 20.059 10.33 20.3248 10.1286C20.5905 9.92717 20.8582 9.72836 21.128 9.5322L22.343 11.0704L20.7735 12.3101C20.6393 12.4161 20.5057 12.5228 20.3726 12.6301L18.8164 13.8864ZM27.6429 7.73313L26.7818 5.97258C27.0751 5.81425 27.3701 5.65877 27.6669 5.50617C27.9631 5.35383 28.2611 5.20436 28.5608 5.0578C28.7207 4.97957 28.8812 4.90217 29.0421 4.82561C29.3429 4.68248 29.6453 4.54226 29.9494 4.405C30.2531 4.2679 30.5584 4.13374 30.8653 4.00256L31.7074 5.7722L29.9014 6.63157C29.747 6.70506 29.593 6.77935 29.4395 6.85443L27.6429 7.73313ZM37.6146 3.70514L37.1698 1.79657C37.4909 1.70798 37.8133 1.62251 38.1369 1.54019C38.4595 1.45813 38.7834 1.37921 39.1085 1.30346C39.2819 1.26305 39.4557 1.22354 39.6298 1.18494C39.9548 1.1129 40.2809 1.04402 40.6083 0.978329C40.9347 0.912813 41.2624 0.850478 41.5911 0.791355L42.0153 2.70466L40.0627 3.13754C39.8956 3.17458 39.7288 3.2125 39.5624 3.25128L37.6146 3.70514ZM48.242 2.0112L48.2317 0.050536C48.5641 0.035693 48.8974 0.0240962 49.2315 0.0157768C49.564 0.00749673 49.8974 0.00246299 50.2315 0.000705994C50.3209 0.000235533 50.4104 0 50.5 0C50.5896 0 50.6791 0.000235523 50.7685 0.000705984C51.1026 0.00246297 51.436 0.0074967 51.7685 0.0157767C52.1026 0.0240961 52.4359 0.0356929 52.7683 0.0505359L52.758 2.0112L50.758 2.00068C50.6721 2.00023 50.5861 2 50.5 2C50.4139 2 50.3279 2.00023 50.242 2.00068L48.242 2.0112Z"
          fill="#00AF86"
        />
        <circle cx="50.5" cy="50" r="49" stroke="#FF6A53" stroke-width="2" class="ui-error-circle" />
        <path
          d="M68.911 64.9799C68.742 65.4401 68.6292 65.9379 68.3756 66.3418C67.5773 67.6192 66.3468 67.9855 64.9097 67.8352C64.0174 67.7413 63.3036 67.3186 62.6743 66.6987C58.8514 62.8665 55.0192 59.0437 51.1964 55.2115C51.0931 55.1081 51.0179 54.9954 50.9146 54.8545C50.7643 54.9954 50.661 55.0893 50.5671 55.1833C46.6785 59.0625 42.7993 62.9416 38.9107 66.8302C37.746 67.9949 35.7266 68.2109 34.3365 67.3374C32.7491 66.3418 32.4392 63.9561 33.6978 62.4532C33.8199 62.3123 33.9514 62.1714 34.0829 62.0399C37.9809 58.142 41.8694 54.2534 45.7674 50.3554C45.8613 50.2615 45.974 50.2051 46.1055 50.1206C45.9553 49.9609 45.8707 49.867 45.7862 49.7731C41.8882 45.8751 37.9996 41.9865 34.1017 38.0886C32.8337 36.8205 32.7491 34.8575 33.8856 33.4955C35.0222 32.1336 36.9946 31.8706 38.4505 32.885C38.629 33.0071 38.798 33.1668 38.9577 33.3171C42.8181 37.1493 46.6691 40.9815 50.5295 44.8137C50.6422 44.9264 50.7549 45.0485 50.8958 45.2082C51.0179 45.0955 51.1119 45.0016 51.2152 44.9077C55.0474 41.0754 58.889 37.2338 62.7212 33.4016C64.6092 31.5137 67.7181 32.2463 68.4508 34.7635C68.8171 36.0316 68.5541 37.1775 67.6054 38.1261C63.7638 41.9771 59.9222 45.8188 56.0712 49.6604C55.9679 49.7637 55.8646 49.8482 55.7237 49.9703C55.8458 50.1018 55.9303 50.1957 56.0336 50.2897C59.8565 54.0937 63.6699 57.8978 67.5115 61.683C68.1972 62.3593 68.7232 63.0919 68.9204 64.05C68.911 64.3693 68.911 64.6793 68.911 64.9799Z"
          fill="#FF6A53"
          class="ui-error-line1"
        />
      </svg>
    `;
  }

  private getInProgressIcon(): string {
    return `
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="${this.size}"
        height="${this.size}"
        viewBox="0 0 101 101"
        fill="none"
        class="inprogress-icon"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M49.9999 2.50255C50.1663 2.50085 50.333 2.5 50.4999 2.5C77.0095 2.5 98.4999 23.9903 98.4999 50.5C98.4999 77.0097 77.0095 98.5 50.4999 98.5C35.5606 98.5 22.2154 91.6752 13.412 80.9732L11.9053 82.2899C21.0759 93.4107 34.96 100.5 50.4999 100.5C78.1141 100.5 100.5 78.1142 100.5 50.5C100.5 22.8858 78.1141 0.5 50.4999 0.5C50.333 0.5 50.1664 0.500817 49.9999 0.502448V2.50255Z"
          fill="#428EE5"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.3864 82.1836L12.8612 83.4148C12.6416 83.1639 12.4244 82.9108 12.2098 82.6555C11.9953 82.4004 11.7834 82.1431 11.5739 81.8836C11.4621 81.7451 11.351 81.6059 11.2406 81.4661C11.034 81.2046 10.83 80.941 10.6286 80.6752C10.4272 80.4095 10.2284 80.1418 10.0322 79.872L11.5704 78.657L12.8101 80.2265C12.9161 80.3607 13.0228 80.4943 13.1301 80.6274L14.3864 82.1836ZM8.23313 73.3571L6.47258 74.2182C6.31425 73.9249 6.15877 73.6299 6.00617 73.3331C5.85383 73.0368 5.70436 72.7389 5.5578 72.4392C5.47957 72.2793 5.40217 72.1188 5.32561 71.9579C5.18248 71.6571 5.04226 71.3547 4.905 71.0506C4.7679 70.7469 4.63374 70.4416 4.50256 70.1347L6.2722 69.2926L7.13157 71.0986C7.20506 71.253 7.27935 71.407 7.35443 71.5605L8.23313 73.3571ZM4.20514 63.3854L2.29657 63.8302C2.20798 63.5091 2.12251 63.1867 2.04019 62.8631C1.95813 62.5405 1.87921 62.2166 1.80346 61.8915C1.76305 61.7181 1.72354 61.5443 1.68494 61.3702C1.6129 61.0452 1.54402 60.7191 1.47833 60.3917C1.41281 60.0653 1.35048 59.7376 1.29135 59.4089L3.20466 58.9847L3.63754 60.9373C3.67458 61.1044 3.7125 61.2712 3.75128 61.4376L4.20514 63.3854ZM2.5112 52.758L0.550536 52.7683C0.535693 52.4359 0.524096 52.1026 0.515777 51.7685C0.507497 51.436 0.502463 51.1026 0.500706 50.7685C0.500236 50.6791 0.5 50.5896 0.5 50.5C0.5 50.4104 0.500236 50.3209 0.500706 50.2315C0.502463 49.8974 0.507497 49.564 0.515777 49.2315C0.524096 48.8974 0.535693 48.5641 0.550536 48.2317L2.5112 48.242L2.50068 50.242C2.50023 50.3279 2.5 50.4139 2.5 50.5C2.5 50.5861 2.50023 50.6721 2.50068 50.758L2.5112 52.758ZM3.20466 42.0153L1.29136 41.5911C1.35048 41.2624 1.41281 40.9347 1.47833 40.6083C1.54402 40.2809 1.6129 39.9548 1.68495 39.6298C1.72354 39.4557 1.76305 39.2819 1.80346 39.1085C1.87921 38.7834 1.95813 38.4595 2.0402 38.1369C2.12251 37.8133 2.20798 37.4909 2.29657 37.1698L4.20514 37.6145L3.75128 39.5624C3.7125 39.7288 3.67458 39.8956 3.63754 40.0627L3.20466 42.0153ZM6.27221 31.7074L4.50257 30.8653C4.63374 30.5584 4.7679 30.2531 4.905 29.9494C5.04227 29.6453 5.18248 29.3429 5.32561 29.0421C5.40218 28.8812 5.47958 28.7207 5.55781 28.5608C5.70437 28.2611 5.85383 27.9631 6.00617 27.6669C6.15877 27.3701 6.31425 27.0751 6.47258 26.7818L8.23314 27.6429L7.35444 29.4395C7.27935 29.593 7.20506 29.747 7.13157 29.9014L6.27221 31.7074ZM11.5704 22.343L10.0322 21.128C10.2284 20.8582 10.4272 20.5905 10.6286 20.3248C10.83 20.059 11.034 19.7954 11.2406 19.5338C11.351 19.3941 11.4621 19.2549 11.5739 19.1164C11.7834 18.8569 11.9953 18.5996 12.2098 18.3445C12.4244 18.0892 12.6416 17.8361 12.8612 17.5851L14.3864 18.8164L13.1302 20.3726C13.0228 20.5057 12.9161 20.6393 12.8101 20.7735L11.5704 22.343ZM18.8164 14.3864L17.5852 12.8612C17.8361 12.6416 18.0892 12.4244 18.3445 12.2098C18.5996 11.9953 18.8569 11.7834 19.1164 11.5739C19.2549 11.4621 19.3941 11.351 19.5339 11.2406C19.7954 11.034 20.059 10.83 20.3248 10.6286C20.5905 10.4272 20.8582 10.2284 21.128 10.0322L22.343 11.5704L20.7735 12.8101C20.6393 12.9161 20.5057 13.0228 20.3726 13.1301L18.8164 14.3864ZM27.6429 8.23313L26.7818 6.47258C27.0751 6.31425 27.3701 6.15877 27.6669 6.00617C27.9631 5.85383 28.2611 5.70436 28.5608 5.5578C28.7207 5.47957 28.8812 5.40217 29.0421 5.32561C29.3429 5.18248 29.6453 5.04226 29.9494 4.905C30.2531 4.7679 30.5584 4.63374 30.8653 4.50256L31.7074 6.2722L29.9014 7.13157C29.747 7.20506 29.593 7.27935 29.4395 7.35443L27.6429 8.23313ZM37.6146 4.20514L37.1698 2.29657C37.4909 2.20798 37.8133 2.12251 38.1369 2.04019C38.4595 1.95813 38.7834 1.87921 39.1085 1.80346C39.2819 1.76305 39.4557 1.72354 39.6298 1.68494C39.9548 1.6129 40.2809 1.54402 40.6083 1.47833C40.9347 1.41281 41.2624 1.35048 41.5911 1.29135L42.0153 3.20466L40.0627 3.63754C39.8956 3.67458 39.7288 3.7125 39.5624 3.75128L37.6146 4.20514ZM48.242 2.5112L48.2317 0.550536C48.5641 0.535693 48.8974 0.524096 49.2315 0.515777C49.564 0.507497 49.8974 0.502463 50.2315 0.500706C50.3209 0.500236 50.4104 0.5 50.5 0.5C50.5896 0.5 50.6791 0.500236 50.7685 0.500706C51.1026 0.502463 51.436 0.507497 51.7685 0.515777C52.1026 0.524096 52.4359 0.535693 52.7683 0.550536L52.758 2.5112L50.758 2.50068C50.6721 2.50023 50.5861 2.5 50.5 2.5C50.4139 2.5 50.3279 2.50023 50.242 2.50068L48.242 2.5112Z"
          fill="#428EE5"
        />
      </svg>
    `;
  }

  private getSuccessIcon(): string {
    return `
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="${this.size}"
        height="${this.size}"
        viewBox="0 0 101 100"
        fill="none"
        class="success-icon"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M49.9999 2.00255C50.1663 2.00085 50.333 2 50.4999 2C77.0095 2 98.4999 23.4903 98.4999 50C98.4999 76.5097 77.0095 98 50.4999 98C35.5606 98 22.2154 91.1752 13.412 80.4732L11.9053 81.7899C21.0759 92.9107 34.96 100 50.4999 100C78.1141 100 100.5 77.6142 100.5 50C100.5 22.3858 78.1141 0 50.4999 0C50.333 0 50.1664 0.000817343 49.9999 0.00244824V2.00255Z"
          fill="#00AF86"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.3864 81.6836L12.8612 82.9148C12.6416 82.6639 12.4244 82.4108 12.2098 82.1555C11.9953 81.9004 11.7834 81.6431 11.5739 81.3836C11.4621 81.2451 11.351 81.1059 11.2406 80.9661C11.034 80.7046 10.83 80.441 10.6286 80.1752C10.4272 79.9095 10.2284 79.6418 10.0322 79.372L11.5704 78.157L12.8101 79.7265C12.9161 79.8607 13.0228 79.9943 13.1301 80.1274L14.3864 81.6836ZM8.23313 72.8571L6.47258 73.7182C6.31425 73.4249 6.15877 73.1299 6.00617 72.8331C5.85383 72.5368 5.70436 72.2389 5.5578 71.9392C5.47957 71.7793 5.40217 71.6188 5.32561 71.4579C5.18248 71.1571 5.04226 70.8547 4.905 70.5506C4.7679 70.2469 4.63374 69.9416 4.50256 69.6347L6.2722 68.7926L7.13157 70.5986C7.20506 70.753 7.27935 70.907 7.35443 71.0605L8.23313 72.8571ZM4.20514 62.8854L2.29657 63.3302C2.20798 63.0091 2.12251 62.6867 2.04019 62.3631C1.95813 62.0405 1.87921 61.7166 1.80346 61.3915C1.76305 61.2181 1.72354 61.0443 1.68494 60.8702C1.6129 60.5452 1.54402 60.2191 1.47833 59.8917C1.41281 59.5653 1.35048 59.2376 1.29135 58.9089L3.20466 58.4847L3.63754 60.4373C3.67458 60.6044 3.7125 60.7712 3.75128 60.9376L4.20514 62.8854ZM2.5112 52.258L0.550536 52.2683C0.535693 51.9359 0.524096 51.6026 0.515777 51.2685C0.507497 50.936 0.502463 50.6026 0.500706 50.2685C0.500236 50.1791 0.5 50.0896 0.5 50C0.5 49.9104 0.500236 49.8209 0.500706 49.7315C0.502463 49.3974 0.507497 49.064 0.515777 48.7315C0.524096 48.3974 0.535693 48.0641 0.550536 47.7317L2.5112 47.742L2.50068 49.742C2.50023 49.8279 2.5 49.9139 2.5 50C2.5 50.0861 2.50023 50.1721 2.50068 50.258L2.5112 52.258ZM3.20466 41.5153L1.29136 41.0911C1.35048 40.7624 1.41281 40.4347 1.47833 40.1083C1.54402 39.7809 1.6129 39.4548 1.68495 39.1298C1.72354 38.9557 1.76305 38.7819 1.80346 38.6085C1.87921 38.2834 1.95813 37.9595 2.0402 37.6369C2.12251 37.3133 2.20798 36.9909 2.29657 36.6698L4.20514 37.1145L3.75128 39.0624C3.7125 39.2288 3.67458 39.3956 3.63754 39.5627L3.20466 41.5153ZM6.27221 31.2074L4.50257 30.3653C4.63374 30.0584 4.7679 29.7531 4.905 29.4494C5.04227 29.1453 5.18248 28.8429 5.32561 28.5421C5.40218 28.3812 5.47958 28.2207 5.55781 28.0608C5.70437 27.7611 5.85383 27.4631 6.00617 27.1669C6.15877 26.8701 6.31425 26.5751 6.47258 26.2818L8.23314 27.1429L7.35444 28.9395C7.27935 29.093 7.20506 29.247 7.13157 29.4014L6.27221 31.2074ZM11.5704 21.843L10.0322 20.628C10.2284 20.3582 10.4272 20.0905 10.6286 19.8248C10.83 19.559 11.034 19.2954 11.2406 19.0338C11.351 18.8941 11.4621 18.7549 11.5739 18.6164C11.7834 18.3569 11.9953 18.0996 12.2098 17.8445C12.4244 17.5892 12.6416 17.3361 12.8612 17.0851L14.3864 18.3164L13.1302 19.8726C13.0228 20.0057 12.9161 20.1393 12.8101 20.2735L11.5704 21.843ZM18.8164 13.8864L17.5852 12.3612C17.8361 12.1416 18.0892 11.9244 18.3445 11.7098C18.5996 11.4953 18.8569 11.2834 19.1164 11.0739C19.2549 10.9621 19.3941 10.851 19.5339 10.7406C19.7954 10.534 20.059 10.33 20.3248 10.1286C20.5905 9.92717 20.8582 9.72836 21.128 9.5322L22.343 11.0704L20.7735 12.3101C20.6393 12.4161 20.5057 12.5228 20.3726 12.6301L18.8164 13.8864ZM27.6429 7.73313L26.7818 5.97258C27.0751 5.81425 27.3701 5.65877 27.6669 5.50617C27.9631 5.35383 28.2611 5.20436 28.5608 5.0578C28.7207 4.97957 28.8812 4.90217 29.0421 4.82561C29.3429 4.68248 29.6453 4.54226 29.9494 4.405C30.2531 4.2679 30.5584 4.13374 30.8653 4.00256L31.7074 5.7722L29.9014 6.63157C29.747 6.70506 29.593 6.77935 29.4395 6.85443L27.6429 7.73313ZM37.6146 3.70514L37.1698 1.79657C37.4909 1.70798 37.8133 1.62251 38.1369 1.54019C38.4595 1.45813 38.7834 1.37921 39.1085 1.30346C39.2819 1.26305 39.4557 1.22354 39.6298 1.18494C39.9548 1.1129 40.2809 1.04402 40.6083 0.978329C40.9347 0.912813 41.2624 0.850478 41.5911 0.791355L42.0153 2.70466L40.0627 3.13754C39.8956 3.17458 39.7288 3.2125 39.5624 3.25128L37.6146 3.70514ZM48.242 2.0112L48.2317 0.050536C48.5641 0.035693 48.8974 0.0240962 49.2315 0.0157768C49.564 0.00749673 49.8974 0.00246299 50.2315 0.000705994C50.3209 0.000235533 50.4104 0 50.5 0C50.5896 0 50.6791 0.000235523 50.7685 0.000705984C51.1026 0.00246297 51.436 0.0074967 51.7685 0.0157767C52.1026 0.0240961 52.4359 0.0356929 52.7683 0.0505359L52.758 2.0112L50.758 2.00068C50.6721 2.00023 50.5861 2 50.5 2C50.4139 2 50.3279 2.00023 50.242 2.00068L48.242 2.0112Z"
          fill="#00AF86"
        />
        <circle cx="50.5" cy="50" r="49" stroke="#00AF86" stroke-width="2" class="checkmark__circle" />
        <path
          d="M39.875 57.7462C43 54.6212 45.5 51.4962 48.625 48.3712C53.625 43.3712 58 37.7462 63 32.7462C64.875 30.8712 66.75 30.8712 68.625 32.1212C70.5 33.3712 70.5 35.8712 68.625 37.7462C60.5 47.1212 51.75 55.8712 43.625 65.2462C41.75 67.1212 39.25 67.7462 37.375 65.2462C33.625 61.4962 29.875 57.7462 26.75 53.9962C25.5 52.7462 25.5 51.4962 25.5 50.2462C26.125 48.9962 26.75 48.3712 28 47.7462C29.25 47.7462 30.5 47.7462 31.75 48.9962C34.25 51.4962 36.75 54.6212 39.875 57.7462Z"
          fill="#00AF86"
          class="checkmark__check"
        />
      </svg>
    `;
  }

  private getFailedAnimation(): string {
    return `


      @keyframes ani-error-line {
        to {
          stroke-dashoffset: 0;
        }
      }
      @keyframes ani-error-circle {
        0% {
          stroke-dasharray: 0, 260.75219024795285px;
          stroke-dashoffset: 0;
        }
        35% {
          stroke-dasharray: 120px, 120px;
          stroke-dashoffset: -120px;
        }
        70% {
          stroke-dasharray: 0, 260.75219024795285px;
          stroke-dashoffset: -260.75219024795285px;
        }
        100% {
          stroke-dasharray: 260.75219024795285px, 0;
          stroke-dashoffset: -260.75219024795285px;
        }
      }
    `;
  }

  private getInProgressAnimation(): string {
    return `

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `;
  }

  private getSuccessAnimation(): string {
    return `

      @keyframes stroke {
        100% {
          stroke-dashoffset: 0;
        }
      }
    `;
  }
}
